# UI-pack

![License](https://img.shields.io/badge/licence-GPL--3.0-yellowgreen)

[Демо](#demo)

[Назначение репозитория / библиотеки](#target)

[Базовые стили и разметка](#styles)
- [Переменные SCSS](#scss-variables)
- Сетка:
  * layout
    * адаптация layout
  * container
    * адаптация container
  * col
    * адаптация col
  * row
    * адаптация row

[Компоненты](#components)
- [Подключение компонентов](#import-component)
- [Список компонентов](#components-list)
  - Картинки (img)
  - Кнопки (button)
  - Формы (form)
  - Таблицы (table)
  - Бургер (burger)
  - Ракрывающееся меню - список (dropdown)
  - Модальное окно (modal)

[Рекомендации и напоминания о возможных способах реализации блоков с помощью семантических тегов](#semantics)

[README gulp-pug-starter с основами работы сборщика](#gulp-pug-starter)
- [Особенности](#features)
- [Установка](#installation)
- [Файловая структура](#structure)
- [Команды](#commands)
- [Рекомендации по использованию](#recommendations)
- [Компоненты](#components)
- [Страницы проекта](#pages)
- [Шрифты](#fonts)
- [Изображения](#images)
- [SVG-спрайты](#sprites)
- [Сторонние библиотеки](#vendors)
- [Нужен SCSS без Pug?](#withoutpug)
- [Нравится проект gulp-pug-starter?](#donate)
- [Контакты создателя gulp-pug-starter](#contacts)

## <a name="demo">Демо</a>

Прежде чем вникать в преимущества библиотеки, читать весь этот документ, сделайте несколько несложных действий.

Скачайте [архив](https://github.com/tarchevsky/ui-pack/archive/refs/heads/master.zip).

Установите глобально:

* Yarn: ```npm i -g yarn```
* Gulp: ```npm i -g gulp```
* Bem Tools: ```npm i -g bem-tools-core```

Откройте папку, где распаковали файлы архива в редакаторе кода, на котором работаете и введите:

```yarn set version berry```, затем ```yarn``` для установки всех зависимостей.

После этого процесса запустите локальный сервер с помощью команды ```yarn run dev``` и пустой сайт откроется в Вашем браузере по умолчанию.

Сейчас на сайте лишь шапка и подвал.

Для того, чтобы увидеть демо-контент, зайдите в файловую систему библиотеку, а именно папку ```src``` - именно с ней вы будете работать, но чуть позже.

Сейчас просто перейдите по написанному путю: ```./src/views/index.pug``` и откройте файл index.pug.

Найдите строчку ```include ../blocks/modules/main/main``` и ниже вставьте ```
include ../blocks/modules/demo/demo```.

## <a name="target">Назначение репозитория / библиотеки</a>

### Переиспользование, универсальность

В работе верстальщика рано или поздно встаёт вопрос реюза стилей / сеток / JS - решений.

Выпадающие списки, табы, меню, слайдеры - стандартные элементы, которые можно написать сотнями разных способов, учитывая или не учитывая множество переменных, таких как доступность и реюзабельность, лаконичность кода. Вместе с normalize.css и отменой браузерных стилей, мы часто переписываем одно и то же с нуля, либо используем решения других разработчиков, берём из codepen и других хороших ресурсов. Но вопрос более локальной стандартизации наверняка волнует большое количество разработчиков.

Кастомные решения особенно важны в небольших проектах или наоборот, проектах с длинным циклом разработки, когда избыточность библиотек, типа bootstrap, нам не нужна.

В данной библиотеке будет просто как использовать то, что есть, чтобы создать что-то быстро и без дополнительных гуглений, либо переписать все неудобные стили / переменные / функции и избавиться от лишнего, не нагромождая свой код.

### Доступность

Библиотека UI-pack про семантическую верстку и за доступность. И если на первых этапах это может быть неочевидным, то когда основные компоненты будут дописаны и усовершенствованы, вы сможете писать проект почти не задумываясь о доступности и концентрируясь на более сложных и важных задачах.

Из-за того, что большинство уроков, гайдов и документации в интернете на поверхности не затрагивают тему доступности, проекты получаются более поверхностными и как следствие, менее долгоиграющими.

Я хочу, чтобы когда вы сдавали сайт на wordpress, любой новый параграф, вставленный клиентом и не предусмотренный кастомными полями и без специализированных классов, – выглядел хорошо, не нуждался в паддингах и вашей поддержке :smiley:

# <a name="#styles">Базовые стили и разметка</a>
- Сетка (layout, container, col, row)
- Адаптация

Все цвета и отступы определяются с помощью переменных в ``./src/styles/helpers/_variables.scss``

### <a name="scss-variables">Переменные SCSS</a>

Обязательно использовать переменные, так как все цвета и отступы проекта завязаны на их значения. Хотите

1. ``$base-color`` - цвет, используемый в шрифтах и бордерах, а также псевдоэлементов (если в макете цвет шрифта и псевдоэлементов совпадает)
2. ``$accent-color`` - цвет кнопок и ссылок (подчеркивания) и псевдоэлементов, если цвет псевдоэлементов не совпадает с base-color. Также может быть фоновым цветом, если фоновый цвет не отличается от него.
3. ``$hover-color`` - цвет состояния, цвет при наведении
4. ``$active-color`` - цвет состояния, цвет в активном состоянии
5. ``$contrast-color`` - цвет контраста. Чаще всего белый цвет. Пример использования: белый цвет шрифта при наведении на кнопку, когда для читабельности темный цвет шрифта сменяется на светлый.
6. ``$disabled`` - цвет состояния, цвет элемента в отключенном состоянии, иногда цвет пассивного бордера, можно использовать в бордерах, неакцентное состояние
7. ``$bg-color`` - фоновый цвет
8. ``$border`` - настройка бордера, в качестве цвета используется переменная disabled
9. ``$brr`` - основной border-radius. brrmin и brrmax - минимальное (меньшее) и максимальное (большее) значение
10. ``$ind`` - сокр. от indentation, отступ. Универсальное и наиболее часто встречающееся значение отступа. Введено вместо большого количества переменных и миксинов по margin и padding. Коротко и удобно. Также, как и border-radius, присутствуют минимальное и максимальное значение ``$indmin`` ``$indmax``.
11. ```$gap``` а также ```$gapmin``` и ```$gapmax``` - по сути аналогичны ```$ind```. Но нужны там, где в проекте отступы gap отличаются от отступов между элементами и блоками. В данном случае закомментированы.
12. ```$transition``` - стандартные длительность и тип анимации.

# Сетка (layout, container, col, row)

Сетка библиотеки построена на нескольких базовых принципах:
1. адаптивность из коробки. Это значит, что

CSS - правила сетки описаны в файле ```./src/styles/base/_general.scss```, адаптация там же.

### layout

Стиль layout для более понятной верстки рекомендуется использовать только в базовом конейнере.
Ширину контейнера layout определяет переменная ``$container`` в ``./src/styles/helpers/_variables.scss``

#### адаптация layout

### container

Ширину контейнера container определяет переменная ``$container`` в ``./src/styles/helpers/_variables.scss``

#### адаптация container

### col

#### адаптация col

### row

вспомогательный класс, определяющий сетку строки.
Нужен для автоматической адаптации колонок внутри

#### адаптация row

## SVG-спрайты

Для легкости работы с svg-спрайтами в ```./src/views/helpers/mixins.pug``` существует миксин
```mixin sprite```.

Использование в коде выглядит так:

```
  +sprite("class", "img/sprites/sprites.svg#svgname", width="value", height="value")
```

## Адаптация

Сетки выполнены максимально для легкости адаптации. Шрифты лучше перераспределять с 16px в html {} на 14px на брейкпоинте, означающем переход на размер мобильных устройств

# <a name="components">Компоненты</a>

## Подключение компонентов

Для того, чтобы на сайте заработал тот или иной компонент, нужно:

1. Подключить его стили через ``./src/blocks/components/_components.scss``
2. Подключить скрипты, если блок их предусматривает через ``./src/js/import/components.js``

> Компонент можно использовать, как подключив через include в pug, так и скопировав pug необходимые теги c css-классами. Иной раз важна иерархия классов, будьте внимательны при написании с нуля.

**Дополнительное описание работы каждого компонента находится в папке компонента с одноименным .md файлом.**

## Список компонентов

### Эти компоненты включены по умолчанию

### Картинки (img)

##### Верстка

Использовать компонент рекомендуется без импорта в pug, а используя "живую" верстку.

Эталонный вариант использования:

```
.img
  img(src="img/img.jpg" alt="Какая-то картинка")
```

или

```angular2html
<div class="img">
  <img src="img/img.jpg" alt="Какая-то картинка">
</div>
```

Подключение в index.pug: ```include ../blocks/components/img/img```

> Если хотите, чтобы картинка была без отступов сверзу и снизу, добавьте контейнеру тег ```.img__empty```

##### CSS

Подключение в ```_components.scss```: раскомментировать ```@import 'img/img';```

###### JS

JS-файлов у компонента нет

### Кнопки (button)

### Формы (form)

### Таблицы (table)

### Бургер (burger)

### Ракрывающееся меню - список (dropdown)

### Модальное окно (modal)

### Эти компоненты закомментированы

### Мультиязыковое меню + мини-плагин локализации для небольших сайтов (dropdown-lang)

##### Верстка

Подключение в header.pug: ```include ../../components/dropdown-lang/dropdown-lang```

##### CSS

Подключение в ```_components.scss```: раскомментировать ```@import 'dropdown-lang/dropdown-lang';```

###### JS

Подключение в ```components.js```: раскомментировать```import "%components%/dropdown-lang/dropdown-lang";```.

### Слайдер Swiper c базовыми стилями и настройками (slider)

> Внимание! Не помещайте слайдер в grid и flex-контейнеры, либо дорабатывайте слайдер под свои задачи

### Слайдер Swiper с контентом, заходящим за край страницы и работающим скроллом и строкой скролла (slider-beyond)

##### Верстка

Подключение в index.pug: ```include ../blocks/components/slider/slide-beyond```

> Внимание! Не помещайте слайдер в grid и flex-контейнеры, либо дорабатывайте слайдер под свои задачи

##### CSS

Подключение в ```_components.scss```: раскомментировать ```@import 'slider/slider';```

###### JS

Подключение в ```components.js```: раскомментировать```import "%components%/slider/slider";```.

### Табы в виде тегов (tabs-tags)

### Хлебные крошки (breadcrumbs)

### Квиз (quiz)

### Текст с анимированным движением по кругу (circle)

### Контейнер, выходящий за границы основной ширины макета (container-beyond)

### Аккордеон (accordion)

### Галерея (gallery)

## <a name="semantics">Рекомендации и напоминания о возможных способах реализации блоков с помощью семантических тегов</a>

### Семантические теги и за что они отвечают

dl - список описаний - не забывать использовать, дабы не множить *диватоз*
```
<dl>
  <dt>Питание</dt>
  <dd>от сети</dd>

  <dt>Тип патрона</dt>
  <dd>SDS-Plus</dd>

  <dt>Количество скоростей работы</dt>
  <dd>1</dd>

  <dt>Потребляемая мощность</dt>
  <dd>880 Вт</dd>
  …
</dl>
   ```

Таблицы - пример находится в `components` в `table`. Не забывайте, что таблица может не выглядеть как таблица, а размечать связанные значения

```
<figure>
  <figcaption>Как это могло бы выглядеть в CSS</figcaption>
  <pre>
    <code>
      p {
        color: #001122;
        font-family: "Roboto", sans-serif;
        font-size: 1.2em;
      }
    </code>
  </pre>
</figure>
...
<figure>
  <figcaption>Ростовые портреты кота Кекса, холст, масло</figcaption>
  <img src="keksik1.jpeg" alt="Кекс, лучший из всех котов по версии Академии, рыжий, толстый, анфас">
  <img src="keksik2.jpeg" alt="Кекс, лучший из всех котов по версии Академии, рыжий, толстый, профиль">
  <img src="keksik3.jpeg" alt="Кекс, лучший из всех котов по версии Академии, рыжий, толстый, вид сзади">
</figure>
...
<figure>
  <figcaption>Во славу Кекса</figcaption>
  <p>О Кекс! Ты — жизнь!<br>
  Ты наша гордость!<br>
  Ты — знамя нашего стремленья!</p>
</figure>
```

``form`` - используется не только для **форм**, но и для фильтров

``<base href="https://www.htmlacademy-assets.com/assets/">``

`button` - не забывать указывать по умолчанию type="button", если кнопка не относится к форме

# <a name="gulp-pug-starter">README изначального репозитория gulp-pug-starter, на основе которого был создана библиотека UI-pack.</a>

![License](https://img.shields.io/github/license/andreyalexeich/gulp-pug-starter)
![GitHub stars](https://img.shields.io/github/stars/andreyalexeich/gulp-pug-starter.svg?style=social)
![GitHub watchers](https://img.shields.io/github/watchers/andreyalexeich/gulp-pug-starter.svg?style=social)`<br><a href="https://qiwi.com/n/ANDREYALEXEICH">``<img src="https://img.shields.io/badge/%D0%97%D0%B0%D0%B4%D0%BE%D0%BD%D0%B0%D1%82%D1%8C%20%D0%BD%D0%B0%20%D0%BF%D0%B8%D0%B2%D0%BE-Qiwi-orange?style=for-the-badge&logo=qiwi"></a>`

## 🔥 <a name="features">Особенности</a>

* именование классов по [БЭМ](https://ru.bem.info/)
* используется БЭМ-структура
* используются препроцессоры [Pug](https://pugjs.org/) и [SCSS](https://sass-lang.com/)
* используется транспайлер [Babel](https://babeljs.io/) для поддержки современного JavaScript (ES6) в браузерах
* используется [Webpack](https://webpack.js.org/) для сборки JavaScript-модулей
* используется жёсткий кодгайд
* используется проверка кода на ошибки перед коммитом

## 🛠 <a name="installation">Установка</a>

* установите [NodeJS](https://nodejs.org/en/)
* установите глобально:
  * [Yarn](https://yarnpkg.com/getting-started): ``npm i -g yarn``
  * [Gulp](https://gulpjs.com/): ``npm i -g gulp``
  * [Bem Tools](https://www.npmjs.com/package/bem-tools-core): ``npm i -g bem-tools-core``
* скачайте сборку с помощью [Git](https://git-scm.com/downloads): ``git clone https://github.com/andreyalexeich/gulp-pug-starter.git``
* перейдите в скачанную папку со сборкой: ``cd gulp-pug-starter``
* введите ``yarn set version berry``
* скачайте необходимые зависимости: ``yarn``
* чтобы начать работу, введите команду: ``yarn run dev`` (режим разработки)
* чтобы собрать проект, введите команду ``yarn run build`` (режим сборки)

Если вы всё сделали правильно, у вас должен открыться браузер с локальным сервером.
Режим сборки предполагает оптимизацию проекта: сжатие изображений, минифицирование CSS и JS-файлов для загрузки на сервер.

## 📂 <a name="structure">Файловая структура</a>

```
gulp-pug-starter
├── dist
├── gulp-tasks
├── src
│   ├── blocks
│   ├── fonts
│   ├── img
│   ├── js
│   ├── styles
│   ├── views
│   └── .htaccess
├── gulpfile.babel.js
├── webpack.config.js
├── package.json
├── .yarnrc.yml
├── .babelrc.js
├── .bemrc.js
├── .eslintrc.json
├── .stylelintrc
├── .stylelintignore
└── .gitignore
```

* Корень папки:
  * ``.babelrc.js`` — настройки Babel
  * ``.bemrc.js`` — настройки БЭМ
  * ``.eslintrc.json`` — настройки ESLint
  * ``.gitignore`` – запрет на отслеживание файлов Git'ом
  * ``.stylelintrc`` — настройки Stylelint
  * ``.stylelintignore`` – запрет на отслеживание файлов Stylelint'ом
  * ``.yarnrc.yml`` – настройка Yarn
  * ``gulpfile.babel.js`` — настройки Gulp
  * ``webpack.config.js`` — настройки Webpack
  * ``package.json`` — список зависимостей
* Папка ``src`` - используется во время разработки:
  * БЭМ-блоки и компоненты: ``src/blocks``
  * шрифты: ``src/fonts``
  * изображения: ``src/img``
  * JS-файлы: ``src/js``
  * страницы сайта: ``src/views/pages``
  * SCSS-файлы: ``src/styles``
  * служебные Pug-файлы: ``src/views``
  * конфигурационный файл веб-сервера Apache с настройками [gzip](https://habr.com/ru/post/221849/) (сжатие без потерь): ``src/.htaccess``
* Папка ``dist`` - папка, из которой запускается локальный сервер для разработки (при запуске ``yarn run dev``)
* Папка ``gulp-tasks`` - папка с Gulp-тасками

## ⌨️ <a name="commands">Команды</a>

* ``yarn run lint:styles`` - проверить SCSS-файлы. Для VSCode необходимо установить [плагин](https://marketplace.visualstudio.com/items?itemName=shinnn.stylelint). Для WebStorm
  или PHPStorm необходимо включить Stylelint в ``Languages & Frameworks - Style Sheets - Stylelint`` (ошибки будут исправлены автоматически при сохранении файла)
* ``yarn run dev`` - запуск сервера для разработки проекта
* ``yarn run build`` - собрать проект с оптимизацией без запуска сервера
* ``yarn run build:views`` - скомпилировать Pug-файлы
* ``yarn run build:styles`` - скомпилировать SCSS-файлы
* ``yarn run build:scripts`` - собрать JS-файлы
* ``yarn run build:images`` - собрать изображения
* ``yarn run build:webp`` - сконвертировать изображения в формат ``.webp``
* ``yarn run build:sprites``- собрать спрайты
* ``yarn run build:fonts`` - собрать шрифты
* ``yarn run build:favicons`` - собрать фавиконки
* ``yarn run build:gzip`` - собрать конфигурацию Apache
* ``yarn run bem-m`` - добавить БЭМ-блок
* ``yarn run bem-c`` - добавить компонент
* ``yarn run lint:styles --fix`` - исправить ошибки в SCSS-файлах согласно настройкам Stylelint
* ``yarn run lint:scripts`` - проверить JS-файлы
* ``yarn run lint:scripts --fix`` - исправить ошибки в JS-файлах согласно настройкам ESLint.

## 💡 <a name="recommendations">Рекомендации по использованию</a>

### Компонентный подход к разработке сайтов

* каждый БЭМ-блок имеет свою папку внутри ``src/blocks/modules``
* папка одного БЭМ-блока содержит в себе один Pug-файл, один SCSS-файл и один JS-файл (если у блока используется скрипт)
  * Pug-файл блока импортируется в файл ``src/views/index.pug`` (или в необходимый файл страницы, откуда будет вызываться блок)
  * SCSS-файл блока импортируется в файл ``src/blocks/modules/_modules.scss``
  * JS-файл блока импортируется в ``src/js/import/modules.js``

Пример структуры папки с БЭМ-блоком:

```
blocks
├── modules
│   ├── header
│   │   ├── header.pug
│   │   ├── header.js
│   │   ├── header.scss
```

Чтобы вручную не создавать соответствующие папку и файлы, достаточно в консоли прописать следующие команды:

* ``yarn run bem-m my-block`` - для создания БЭМ-блока в ``src/block/modules`` (для основных БЭМ-блоков), где ``my-block`` - имя БЭМ-блока (после создания нужно удалить содержимое js-файла БЭМ-блока);
* ``yarn run bem-с my-component`` - для создания компонента в ``src/blocks/components`` (для компонентов), где ``my-component`` - имя компонента (после создания нужно удалить содержимое js-файла БЭМ-компонента);

### <a name="components">Компоненты</a>

* компоненты (например, иконки, кнопки) оформляются в Pug с помощью примесей
* каждый компонент имеет свою папку внутри ``src/blocks/components``
* папка одного компонента содержит в себе один Pug-файл, один SCSS-файл и один JS-файл (если у компонента используется скрипт)
  * Pug-файл компонента импортируется в файл главной страницы ``src/views/index.pug`` (или в необходимый файл страницы, откуда будет вызываться компонент)
  * SCSS-файл компонента импортируется в файл ``src/blocks/components/_components.scss``
  * JS-файл компонента импортируется в файл ``src/js/import/components.js``

### <a name="pages">Страницы проекта</a>

* страницы проекта находятся в папке ``src/views/pages``
  * каждая страница (в том числе главная) наследует шаблон ``src/views/layouts/default.pug``
  * главная страница: ``src/views/index.pug``

### <a name="fonts">Шрифты</a>

* шрифты находятся в папке ``src/fonts``
  * используйте [форматы](https://caniuse.com/#search=woff) ``.woff`` и ``.woff2``
  * шрифты подключаются в файл ``src/styles/base/_fonts.scss``
  * сконвертировать локальные шрифты можно с помощью [данного сервиса](https://onlinefontconverter.com/)

### <a name="images">Изображения</a>

* изображения находятся в папке ``src/img``
  * изображения автоматически конвертируются в формат ``.webp``. Подробная информация по использованию [тут](https://vk.com/@vk_it-webp)
  * изображение для генерации фавиконок должно находиться в папке ``src/img/favicon`` и иметь размер не менее ``1024px x 1024px``

### <a name="sprites">SVG-спрайты</a>

Для создания спрайтов изображения ``.svg`` должны находиться в папке ``src/img/sprites``. Например, у нас есть файлы ``icon-1.svg``, ``icon-2.svg`` и ``icon-3.svg``, и мы должны обратиться к ``icon-2.svg``. Для этого в HTML нужно воспользоваться тегом ``use``:

```pug
svg
    use(xlink:href="img/sprites/sprite.svg#logo")
```

Изменить стили svg-иконки из спрайта в CSS:

```css
svg use {
  fill: red;
}
```

Бывает такая ситуация, когда стили иконки поменять не получается. Это связано с тем, что при экспорте из Figma в svg добавляется лишний код. Например:

```html
<svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.90918 4.04542L13.091 9.54088L4.90918 14.9545L4.90918 4.04542Z" fill="#1B1B1D"/>
</svg>
```

Нужно удалить ``fill="none"`` и ``fill="#1B1B1D"``. Должно получиться так:

```html
<svg width="18" height="19" viewBox="0 0 18 19" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.90918 4.04542L13.091 9.54088L4.90918 14.9545L4.90918 4.04542Z"/>
</svg>
```

### <a name="vendors">Cторонние библиотеки</a>

* все сторонние библиотеки устанавливаются в папку ``node_modules``

  * для их загрузки воспользуйтеcь командой ``yarn add package_name``
  * для подключения JS-файлов библиотек импортируйте их в самом начале JS-файла БЭМ-блока (то есть тот БЭМ-блок, который использует скрипт), например:

  ```javascript
  import $ from "jquery";
  ```

  * для подключения стилевых файлов библиотек импортируйте их в файл ``src/styles/vendor/_libs.scss``
  * JS-файлы и стилевые файлы библиотек самостоятельно изменять нельзя

## 👉 <a name="withoutpug">Нужен SCSS без Pug?</a>

Используйте [эту](https://github.com/andreyalexeich/gulp-scss-starter/) сборку.

## 💛 <a name="donate">Нравится проект?</a>

Сообщайте мне о [багах](https://github.com/andreyalexeich/gulp-pug-starter/issues), ставьте звёздочку в правом верхнем углу, [задонатьте](https://qiwi.com/n/ANDREYALEXEICH) мне на пиво 🍺

## ✉️ <a name="contacts">Контакты</a>

По всем вопросам пишите в [Telegram](https://t.me/andreyalexeich)

